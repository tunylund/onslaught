"use strict";(()=>{function c(t,e){return o(t.x+e.x,t.y+e.y,t.z+e.z)}function h(t,e){return o(t.x-e.x,t.y-e.y,t.z-e.z)}function d(t,e){return o(t.x*e.x,t.y*e.y,t.z*e.z)}function o(t=0,e=0,r=0){if(typeof t=="number"){let n=(Math.atan2(e,t)+Math.PI*2)%(Math.PI*2),a=(n*180/Math.PI+360)%360,u=Math.sqrt(t*t+e*e+r*r),f=Math.abs(t)+Math.abs(e)+Math.abs(r),i={x:t===0?1:Math.abs(t)/t,y:e===0?1:Math.abs(e)/e,z:r===0?1:Math.abs(r)/r},g={x:t===0?0:1*i.x,y:e===0?0:1*i.y,z:r===0?0:1*i.z};return{x:t,y:e,z:r,x2:t/2,y2:e/2,z2:r/2,radian:n,angle:a,size:u,sum:f,signature:i,unit:g}}else return o(t.x,t.y,t.z)}function p(t,e=1){return o(Math.round(e*Math.cos(t)*1e4)/1e4,Math.round(e*Math.sin(t)*1e4)/1e4)}var O=o(-1,-1,-1),w=o(0,0,0),S=o(.5,.5,.5),E=o(1,1,1),I=o(2,2,2);function l(t=0,e=0,r=0,n=0,a=0,u=0,f=0,i=0,g=0){return typeof t=="number"?{cor:o(t,e,r),vel:o(n,a,u),acc:o(f,i,g)}:"cor"in t?{cor:o(t.cor),vel:o(t.vel),acc:o(t.acc)}:{cor:t||o(),vel:e||o(),acc:r||o()}}function b(t,e){let r=c(t.vel,d(t.acc,o(e,e,e))),n=c(t.cor,d(r,o(e,e,e)));return l(n,r,t.acc)}function U(t=l(),e=o(),r=o(),n){return"cor"in t?Object.assign({pos:t,dim:e,dir:r},n):Object.assign({pos:l(t.pos),dim:o(t.dim),dir:o(t.dir)},n)}function x(t,e,r=s(t,e)){return p(h(e.pos.cor,t.pos.cor).radian,r)}function s(t,e){return h(t.pos.cor,e.pos.cor).size}var M;(function(t){t.leftdown="leftdown",t.left="left",t.leftup="leftup",t.upleft="upleft",t.up="up",t.upright="upright",t.rightup="rightup",t.right="right",t.rightdown="rightdown",t.downright="downright",t.down="down",t.downleft="downleft"})(M||(M={}));var y=25e3,D=1e3;function T(t){return U(l(t),o(10),o(),{goal:void 0,speed:1,age:0,exhaustion:0,endurance:100,xp:0,health:100,maxHealth:100,team:Math.random()>.5?"a":"b"})}function m(t,e,r){e.dir=x(e,r,e.speed),e.pos.vel=e.dir,e.pos=b(e.pos,t)}function z(t,e,r){let n=e.goal;if(!n.target)n.target=L(e,r);else{let a=n.target;if(s(e,a)>n.minDistance)m(t,e,a);else if(n.coolDown>0)n.coolDown-=t;else{let u=e.xp*e.age<y?1:.75-e.exhaustion,f=a.xp*a.age<y?1:.75-a.exhaustion,i=Math.random();n.coolDown=D,u+i>f?(a.health-=t,e.xp+=t*2,e.exhaustion+=t,n.target.exhaustion+=t*2):(e.xp+=t,e.exhaustion+=t,n.target.exhaustion+=t/2)}}}function A(t,e){let r=e.goal;r.duration+=t,e.exhaustion-=t,e.health=Math.min(e.health+t/2,e.maxHealth),e.exhaustion<=0&&(e.exhaustion=0)}function G(t,e,r){let n=e.goal;if(n.target){let a=n.target;if(s(e,a)>n.minDistance)m(t,e,a);else{if(n.mingleDuration>n.maxDuration&&a.goal.mingleDuration>n.maxDuration)return e.exhaustion=e.endurance,a.exhaustion=a.endurance,T(c(e.pos.cor,x(e,a,s(e,a)/2)));n.mingleDuration+=t}}else{let a=k(e,r);a&&(n.target=a,a.goal.target=e)}}function k(t,e){return e.filter(n=>n!==t&&n.goal.type==="mingle"&&!n.goal.target).sort((n,a)=>s(n,a))[0]}function L(t,e){return e.filter(n=>n!==t&&n.team!=t.team).sort((n,a)=>s(n,a))[0]}})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3RpbnktZ2FtZS1lbmdpbmUvc3JjL3h5ei50cyIsICJub2RlX21vZHVsZXMvdGlueS1nYW1lLWVuZ2luZS9zcmMvcG9zaXRpb24udHMiLCAibm9kZV9tb2R1bGVzL3RpbnktZ2FtZS1lbmdpbmUvc3JjL2VudGl0eS50cyIsICJub2RlX21vZHVsZXMvdGlueS1nYW1lLWVuZ2luZS9zcmMvY29udHJvbHMudHMiLCAic3JjL2dhbWUudHMiLCAic3JjL3VuaXQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgImltcG9ydCB7IGxvb3AgfSBmcm9tICd0aW55LWdhbWUtZW5naW5lL2xpYi9pbmRleCdcbmltcG9ydCB7IEdvYWwsIHBsYXlBdHRhY2ssIHBsYXlNaW5nbGUsIHBsYXlSZXN0LCBVbml0IH0gZnJvbSAnLi91bml0J1xuaW1wb3J0IHsgcGxheVByYWN0aWNlLCBwcmFjdGljZUdvYWwgfSBmcm9tICcuL3VuaXQucHJhY3RpY2UnXG5cbmNvbnN0IEJBQllfTUFYX0FHRSA9IDUwMDBcbmV4cG9ydCBjb25zdCBPTERfQUdFID0gMjUwMDBcbmV4cG9ydCBjb25zdCBBVFRBQ0tfQ09PTERPV04gPSAxMDAwXG5jb25zdCBTVEFHRV9EVVJBVElPTiA9IDE1MDAwXG5jb25zdCBNSU5HTEVfRFVSQVRJT04gPSA1MDAwXG5cbmludGVyZmFjZSBHYW1lU3RhdGUge1xuICB1bml0czogVW5pdFtdXG4gIHN0YWdlOiB7XG4gICAgdHlwZTogJ2NhbG0nIHwgJ2JhdHRsZSdcbiAgICBkdXJhdGlvbjogbnVtYmVyXG4gICAgbWF4RHVyYXRpb246IG51bWJlclxuICB9XG59XG5cbmNvbnN0IHN0YXRlOiBHYW1lU3RhdGUgPSB7XG4gIHVuaXRzOiBbXSxcbiAgc3RhZ2U6IHtcbiAgICB0eXBlOiAnY2FsbScsXG4gICAgZHVyYXRpb246IDAsXG4gICAgbWF4RHVyYXRpb246IDE1MDAwXG4gIH1cbn1cblxuZnVuY3Rpb24gb25zbGF1Z2h0KCkge1xuXG4gIGxvb3AoKHN0ZXApID0+IHtcbiAgICBzdGF0ZS5zdGFnZS5kdXJhdGlvbiArPSBzdGVwXG5cbiAgICBpZiAoc3RhdGUuc3RhZ2UudHlwZSA9PT0gJ2NhbG0nKSBzdGF0ZS51bml0cy5tYXAodW5pdCA9PiBjYWxtTG9vcChzdGVwLCB1bml0LCBzdGF0ZS51bml0cykpXG4gICAgaWYgKHN0YXRlLnN0YWdlLnR5cGUgPT09ICdiYXR0bGUnKSBzdGF0ZS51bml0cy5tYXAodW5pdCA9PiBiYXR0bGVMb29wKHN0ZXAsIHVuaXQsIHN0YXRlLnVuaXRzKSlcblxuICAgIHN0YXRlLnVuaXRzID0gc3RhdGUudW5pdHMuZmlsdGVyKHVuaXQgPT4gdW5pdC5oZWFsdGggPiAwKVxuICAgIFxuICAgIGlmIChzdGF0ZS5zdGFnZS5kdXJhdGlvbiA+IHN0YXRlLnN0YWdlLm1heER1cmF0aW9uKSB7XG4gICAgICBzdGF0ZS5zdGFnZSA9IHN0YXRlLnN0YWdlLnR5cGUgPT09ICdjYWxtJyA/IHtcbiAgICAgICAgdHlwZTogJ2JhdHRsZScsXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBtYXhEdXJhdGlvbjogU1RBR0VfRFVSQVRJT05cbiAgICAgIH0gOiB7XG4gICAgICAgIHR5cGU6ICdjYWxtJyxcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgIG1heER1cmF0aW9uOiBTVEFHRV9EVVJBVElPTlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufVxuXG5mdW5jdGlvbiBjYWxtTG9vcChzdGVwOiBudW1iZXIsIHVuaXQ6IFVuaXQsIHVuaXRzOiBVbml0W10pIHtcbiAgdW5pdC5hZ2UgKz0gc3RlcFxuXG4gIHVuaXQuZ29hbCA9IGNob29zZUNhbG1Hb2FsKHVuaXQpXG5cbiAgaWYgKHVuaXQuZ29hbC50eXBlID09PSAnbWluZ2xlJykge1xuICAgIGNvbnN0IHNwYXduZWRVbml0ID0gcGxheU1pbmdsZShzdGVwLCB1bml0LCB1bml0cylcbiAgICBpZiAoc3Bhd25lZFVuaXQpIHVuaXRzLnB1c2goc3Bhd25lZFVuaXQpXG4gIH1cblxuICBpZiAodW5pdC5nb2FsLnR5cGUgPT09ICdyZXN0Jykge1xuICAgIHBsYXlSZXN0KHN0ZXAsIHVuaXQpXG4gIH1cblxuICBpZiAodW5pdC5nb2FsLnR5cGUgPT09ICdwcmFjdGljZScpIHtcbiAgICBwbGF5UHJhY3RpY2Uoc3RlcCwgdW5pdCwgdW5pdHMpXG4gIH1cbn1cblxuZnVuY3Rpb24gYmF0dGxlTG9vcChzdGVwOiBudW1iZXIsIHVuaXQ6IFVuaXQsIHVuaXRzOiBVbml0W10pIHtcbiAgdW5pdC5hZ2UgKz0gc3RlcFxuXG4gIHVuaXQuZ29hbCA9IGNob29zZUJhdHRsZUdvYWwodW5pdClcblxuICBpZiAodW5pdC5nb2FsLnR5cGUgPT09ICdhdHRhY2snKSBwbGF5QXR0YWNrKHN0ZXAsIHVuaXQsIHN0YXRlLnVuaXRzKVxufVxuXG5mdW5jdGlvbiBjaG9vc2VCYXR0bGVHb2FsKHVuaXQ6IFVuaXQpOiBHb2FsIHtcbiAgaWYgKHVuaXQuZ29hbC50eXBlID09PSAnbWluZ2xlJykgcmV0dXJuIHVuaXQuZ29hbFxuXG4gIGlmICh1bml0LmFnZSA+IEJBQllfTUFYX0FHRSAmJiB1bml0LmV4aGF1c3Rpb24gPCB1bml0LmVuZHVyYW5jZSkgcmV0dXJuIHtcbiAgICB0eXBlOiAnYXR0YWNrJyxcbiAgICBtaW5EaXN0YW5jZTogdW5pdC5kaW0uc2l6ZSxcbiAgICBjb29sRG93bjogMFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnYXR0YWNrJyxcbiAgICBtaW5EaXN0YW5jZTogdW5pdC5kaW0uc2l6ZSxcbiAgICBjb29sRG93bjogMFxuICB9XG59XG5cbmZ1bmN0aW9uIGNob29zZUNhbG1Hb2FsKHVuaXQ6IFVuaXQpOiBHb2FsIHtcbiAgaWYgKHVuaXQuZ29hbC50eXBlID09PSAncmVzdCcgJiYgdW5pdC5leGhhdXN0aW9uID4gMCkgcmV0dXJuIHVuaXQuZ29hbFxuXG4gIGlmICh1bml0LmV4aGF1c3Rpb24gPj0gdW5pdC5lbmR1cmFuY2UpIHJldHVybiB7XG4gICAgdHlwZTogJ3Jlc3QnLFxuICAgIGR1cmF0aW9uOiAwXG4gIH1cblxuICBpZiAodW5pdC5nb2FsLnR5cGUgPT09ICdtaW5nbGUnICYmIHVuaXQuZXhoYXVzdGlvbiA8IHVuaXQuZW5kdXJhbmNlKSByZXR1cm4gdW5pdC5nb2FsXG5cbiAgaWYgKHVuaXQuYWdlID4gQkFCWV9NQVhfQUdFICYmIHVuaXQuZXhoYXVzdGlvbiA8IHVuaXQuZW5kdXJhbmNlKSB7XG4gICAgcmV0dXJuICh1bml0LmdvYWwudHlwZSA9PT0gJ21pbmdsZScpID8gdW5pdC5nb2FsIDoge1xuICAgICAgdHlwZTogJ21pbmdsZScsXG4gICAgICBtaW5EaXN0YW5jZTogdW5pdC5kaW0uc2l6ZSxcbiAgICAgIG1pbmdsZUR1cmF0aW9uOiAwLFxuICAgICAgbWF4RHVyYXRpb246IE1JTkdMRV9EVVJBVElPTlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAodW5pdC5nb2FsLnR5cGUgPT09ICdwcmFjdGljZScpID8gdW5pdC5nb2FsIDogcHJhY3RpY2VHb2FsKHVuaXQpXG59XG5cbiIsICJpbXBvcnQgeyBFbnRpdHksIGRpc3RhbmNlLCB2ZWN0b3JUbywgbW92ZSwgYWRkLCBlbnRpdHksIHBvc2l0aW9uLCBYWVosIHh5eiB9IGZyb20gJ3RpbnktZ2FtZS1lbmdpbmUvbGliL2luZGV4J1xuaW1wb3J0IHsgQVRUQUNLX0NPT0xET1dOLCBPTERfQUdFIH0gZnJvbSAnLi9nYW1lJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFVuaXQgZXh0ZW5kcyBFbnRpdHkge1xuICBnb2FsOiBHb2FsXG4gIHNwZWVkOiBudW1iZXJcbiAgYWdlOiBudW1iZXJcbiAgZXhoYXVzdGlvbjogbnVtYmVyXG4gIGVuZHVyYW5jZTogbnVtYmVyXG4gIHhwOiBudW1iZXJcbiAgaGVhbHRoOiBudW1iZXJcbiAgbWF4SGVhbHRoOiBudW1iZXJcbiAgdGVhbTogJ2EnIHwgJ2InXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9Hb2FsIHtcbiAgdHlwZTogJ25vZ29hbCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaW5nbGVHb2FsIHtcbiAgdHlwZTogJ21pbmdsZSdcbiAgdGFyZ2V0PzogVW5pdCAmIHsgZ29hbDogTWluZ2xlR29hbCB9XG4gIG1pbkRpc3RhbmNlOiBudW1iZXJcbiAgbWluZ2xlRHVyYXRpb246IG51bWJlclxuICBtYXhEdXJhdGlvbjogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdEdvYWwge1xuICB0eXBlOiAncmVzdCdcbiAgZHVyYXRpb246IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByYWN0aWNlR29hbCB7XG4gIHR5cGU6ICdwcmFjdGljZSdcbiAgbWluRGlzdGFuY2U6IG51bWJlclxuICB0YXJnZXQ/OiBVbml0ICYgeyBnb2FsOiBQcmFjdGljZUdvYWwgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF0dGFja0dvYWwge1xuICB0eXBlOiAnYXR0YWNrJ1xuICB0YXJnZXQ/OiBVbml0XG4gIG1pbkRpc3RhbmNlOiBudW1iZXJcbiAgY29vbERvd246IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBHb2FsID0gTWluZ2xlR29hbCB8IFJlc3RHb2FsIHwgUHJhY3RpY2VHb2FsIHwgQXR0YWNrR29hbFxuXG5leHBvcnQgZnVuY3Rpb24gc3Bhd24oY29yOiBYWVopOiBVbml0IHtcbiAgcmV0dXJuIGVudGl0eTxVbml0Pihwb3NpdGlvbihjb3IpLCB4eXooMTApLCB4eXooKSwge1xuICAgIGdvYWw6IHVuZGVmaW5lZCxcbiAgICBzcGVlZDogMSxcbiAgICBhZ2U6IDAsXG4gICAgZXhoYXVzdGlvbjogMCxcbiAgICBlbmR1cmFuY2U6IDEwMCxcbiAgICB4cDogMCxcbiAgICBoZWFsdGg6IDEwMCxcbiAgICBtYXhIZWFsdGg6IDEwMCxcbiAgICB0ZWFtOiBNYXRoLnJhbmRvbSgpID4gMC41ID8gJ2EnIDogJ2InLFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW92ZVRvd2FyZHMoc3RlcDogbnVtYmVyLCB1bml0OiBVbml0LCB0YXJnZXQ6IFVuaXQpIHtcbiAgdW5pdC5kaXIgPSB2ZWN0b3JUbyh1bml0LCB0YXJnZXQsIHVuaXQuc3BlZWQpXG4gIHVuaXQucG9zLnZlbCA9IHVuaXQuZGlyXG4gIHVuaXQucG9zID0gbW92ZSh1bml0LnBvcywgc3RlcClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlBdHRhY2soc3RlcDogbnVtYmVyLCB1bml0OiBVbml0LCB1bml0czogVW5pdFtdKSB7XG4gIGNvbnN0IGdvYWwgPSB1bml0LmdvYWwgYXMgQXR0YWNrR29hbFxuICBpZiAoIWdvYWwudGFyZ2V0KSB7XG4gICAgZ29hbC50YXJnZXQgPSBjaG9vc2VBdHRhY2tUYXJnZXQodW5pdCwgdW5pdHMpXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ29hbC50YXJnZXRcbiAgICBpZiAoZGlzdGFuY2UodW5pdCwgdGFyZ2V0KSA+IGdvYWwubWluRGlzdGFuY2UpIHtcbiAgICAgIG1vdmVUb3dhcmRzKHN0ZXAsIHVuaXQsIHRhcmdldClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGdvYWwuY29vbERvd24gPiAwKSBnb2FsLmNvb2xEb3duIC09IHN0ZXBcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBoaXRDaGFuY2UgPSB1bml0LnhwICogdW5pdC5hZ2UgPCBPTERfQUdFID8gMSA6IDAuNzUgLSB1bml0LmV4aGF1c3Rpb25cbiAgICAgICAgY29uc3QgZGVmZW5jZUNoYW5jZSA9IHRhcmdldC54cCAqIHRhcmdldC5hZ2UgPCBPTERfQUdFID8gMSA6IDAuNzUgLSB0YXJnZXQuZXhoYXVzdGlvblxuICAgICAgICBjb25zdCBsdWNrID0gTWF0aC5yYW5kb20oKVxuICAgICAgICBnb2FsLmNvb2xEb3duID0gQVRUQUNLX0NPT0xET1dOXG4gICAgICAgIGlmIChoaXRDaGFuY2UgKyBsdWNrID4gZGVmZW5jZUNoYW5jZSkge1xuICAgICAgICAgIHRhcmdldC5oZWFsdGggLT0gc3RlcFxuICAgICAgICAgIHVuaXQueHAgKz0gc3RlcCAqIDJcbiAgICAgICAgICB1bml0LmV4aGF1c3Rpb24gKz0gc3RlcFxuICAgICAgICAgIGdvYWwudGFyZ2V0LmV4aGF1c3Rpb24gKz0gc3RlcCAqIDJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bml0LnhwICs9IHN0ZXBcbiAgICAgICAgICB1bml0LmV4aGF1c3Rpb24gKz0gc3RlcFxuICAgICAgICAgIGdvYWwudGFyZ2V0LmV4aGF1c3Rpb24gKz0gc3RlcC8yICBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVJlc3Qoc3RlcDogbnVtYmVyLCB1bml0OiBVbml0KSB7XG4gIGNvbnN0IGdvYWwgPSB1bml0LmdvYWwgYXMgUmVzdEdvYWxcbiAgZ29hbC5kdXJhdGlvbiArPSBzdGVwXG4gIHVuaXQuZXhoYXVzdGlvbiAtPSBzdGVwXG4gIHVuaXQuaGVhbHRoID0gTWF0aC5taW4odW5pdC5oZWFsdGggKyBzdGVwLzIsIHVuaXQubWF4SGVhbHRoKVxuICBpZiAodW5pdC5leGhhdXN0aW9uIDw9IDApIHtcbiAgICB1bml0LmV4aGF1c3Rpb24gPSAwXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlNaW5nbGUoc3RlcDogbnVtYmVyLCB1bml0OiBVbml0LCB1bml0czogVW5pdFtdKTogVW5pdHx2b2lkIHtcbiAgY29uc3QgZ29hbCA9IHVuaXQuZ29hbCBhcyBNaW5nbGVHb2FsXG4gIGlmICghZ29hbC50YXJnZXQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBjaG9vc2VNaW5nbGVUYXJnZXQodW5pdCwgdW5pdHMpXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgZ29hbC50YXJnZXQgPSB0YXJnZXRcbiAgICAgIHRhcmdldC5nb2FsLnRhcmdldCA9IHVuaXQgYXMgVW5pdCAmIHsgZ29hbDogTWluZ2xlR29hbCB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGNvbnN0IHRhcmdldCA9IGdvYWwudGFyZ2V0XG4gICAgaWYgKGRpc3RhbmNlKHVuaXQsIHRhcmdldCkgPiBnb2FsLm1pbkRpc3RhbmNlKSB7XG4gICAgICBtb3ZlVG93YXJkcyhzdGVwLCB1bml0LCB0YXJnZXQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChnb2FsLm1pbmdsZUR1cmF0aW9uID4gZ29hbC5tYXhEdXJhdGlvbiAmJiB0YXJnZXQuZ29hbC5taW5nbGVEdXJhdGlvbiA+IGdvYWwubWF4RHVyYXRpb24pIHtcbiAgICAgICAgdW5pdC5leGhhdXN0aW9uID0gdW5pdC5lbmR1cmFuY2VcbiAgICAgICAgdGFyZ2V0LmV4aGF1c3Rpb24gPSB0YXJnZXQuZW5kdXJhbmNlO1xuICAgICAgICByZXR1cm4gc3Bhd24oYWRkKHVuaXQucG9zLmNvciwgdmVjdG9yVG8odW5pdCwgdGFyZ2V0LCBkaXN0YW5jZSh1bml0LCB0YXJnZXQpIC8gMikgKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdvYWwubWluZ2xlRHVyYXRpb24gKz0gc3RlcFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hvb3NlTWluZ2xlVGFyZ2V0KHVuaXQ6IFVuaXQsIHVuaXRzOiBVbml0W10pIHtcbiAgY29uc3QgYXZhaWxhYmxlVW5pdHMgPSB1bml0cy5maWx0ZXIodSA9PlxuICAgIHUgIT09IHVuaXQgJiYgXG4gICAgdS5nb2FsLnR5cGUgPT09ICdtaW5nbGUnICYmIFxuICAgICF1LmdvYWwudGFyZ2V0XG4gICkgYXMgKFVuaXQgJiB7IGdvYWw6IE1pbmdsZUdvYWwgfSlbXVxuICByZXR1cm4gYXZhaWxhYmxlVW5pdHMuc29ydCgoYSwgYikgPT4gZGlzdGFuY2UoYSwgYikpWzBdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaG9vc2VBdHRhY2tUYXJnZXQodW5pdDogVW5pdCwgdW5pdHM6IFVuaXRbXSkge1xuICBjb25zdCBhdmFpbGFibGVVbml0cyA9IHVuaXRzLmZpbHRlcih1ID0+XG4gICAgdSAhPT0gdW5pdCAmJiBcbiAgICB1LnRlYW0gIT0gdW5pdC50ZWFtXG4gIClcbiAgcmV0dXJuIGF2YWlsYWJsZVVuaXRzLnNvcnQoKGEsIGIpID0+IGRpc3RhbmNlKGEsIGIpKVswXVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIm1CQW1CTSxXQUFjLEVBQVEsRUFBTSxDQUFJLE1BQU8sR0FBSSxFQUFFLEVBQUksRUFBRSxFQUFHLEVBQUUsRUFBSSxFQUFFLEVBQUcsRUFBRSxFQUFJLEVBQUUsQ0FBQyxDQUFFLENBQzVFLFdBQWMsRUFBUSxFQUFNLENBQUksTUFBTyxHQUFJLEVBQUUsRUFBSSxFQUFFLEVBQUcsRUFBRSxFQUFJLEVBQUUsRUFBRyxFQUFFLEVBQUksRUFBRSxDQUFDLENBQUUsQ0FDNUUsV0FBYyxFQUFRLEVBQU0sQ0FBSSxNQUFPLEdBQUksRUFBRSxFQUFJLEVBQUUsRUFBRyxFQUFFLEVBQUksRUFBRSxFQUFHLEVBQUUsRUFBSSxFQUFFLENBQUMsQ0FBRSxDQUk1RSxXQUFjLEVBQWdCLEVBQUcsRUFBSSxFQUFHLEVBQUksRUFBQyxDQUNqRCxHQUFJLE1BQU8sSUFBTSxTQUFVLENBQ3pCLEdBQU0sR0FBVSxNQUFLLE1BQU0sRUFBRyxDQUFDLEVBQUksS0FBSyxHQUFLLEdBQU0sTUFBSyxHQUFLLEdBQ3ZELEVBQVMsR0FBUyxJQUFNLEtBQUssR0FBSyxLQUFPLElBQ3pDLEVBQU8sS0FBSyxLQUFLLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxDQUFDLEVBQ3RDLEVBQU0sS0FBSyxJQUFJLENBQUMsRUFBSSxLQUFLLElBQUksQ0FBQyxFQUFJLEtBQUssSUFBSSxDQUFDLEVBQzVDLEVBQVksQ0FDaEIsRUFBRyxJQUFNLEVBQUksRUFBSSxLQUFLLElBQUksQ0FBQyxFQUFJLEVBQy9CLEVBQUcsSUFBTSxFQUFJLEVBQUksS0FBSyxJQUFJLENBQUMsRUFBSSxFQUMvQixFQUFHLElBQU0sRUFBSSxFQUFJLEtBQUssSUFBSSxDQUFDLEVBQUksR0FFM0IsRUFBTyxDQUNYLEVBQUcsSUFBTSxFQUFJLEVBQUksRUFBSSxFQUFVLEVBQy9CLEVBQUcsSUFB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
